import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON formatted travel plan for a couple visiting Las Vegas on a budget for 3 days, including hotel options and a daily itinerary. This plan focuses on free and low-cost activities to keep expenses down.\n\n```json\n{\n  \"location\": \"Las Vegas, Nevada\",\n  \"budget\": \"Cheap\",\n  \"duration\": \"3 Days\",\n    \"travelers\": \"Couple\",\n  \"hotels\": [\n      {\n          \"hotelName\": \"Circus Circus Hotel & Casino\",\n          \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n          \"price\": \"$40 - $80 per night\",\n          \"hotelImageUrl\": \"https://media.cntraveler.com/photos/5a211a478924b44f65e3f64a/master/w_1600%2Cc_limit/circus-circus-vegas-cr-courtesy.jpg\",\n          \"geoCoordinates\": {\n              \"latitude\": 36.1366,\n              \"longitude\": -115.1630\n          },\n          \"rating\": 3.7,\n           \"description\": \"A family-friendly hotel on the Strip with a circus theme, free shows, and affordable rooms. It's a good option for budget travelers.\"\n      },\n      {\n          \"hotelName\": \"Excalibur Hotel & Casino\",\n          \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n           \"price\": \"$45 - $90 per night\",\n           \"hotelImageUrl\": \"https://media.cntraveler.com/photos/5a211a49f4d611248d90757c/master/w_1600%2Cc_limit/excalibur-vegas-cr-courtesy.jpg\",\n            \"geoCoordinates\": {\n                \"latitude\": 36.0987,\n              \"longitude\": -115.1732\n            },\n            \"rating\": 4.0,\n             \"description\": \"A medieval-themed hotel on the Strip known for its affordable prices, large pool complex, and family entertainment.\"\n      },\n      {\n        \"hotelName\": \"OYO Hotel and Casino Las Vegas\",\n          \"hotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n          \"price\": \"$35 - $75 per night\",\n          \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/26/4c/d2/94/oyo-hotel-and-casino-las.jpg?w=700&h=-1&s=1\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1001,\n            \"longitude\": -115.1691\n          },\n          \"rating\": 3.6,\n           \"description\": \"A budget-friendly option located off the Strip, offering simple rooms and a casino. Good for travelers who prioritize affordability.\"\n      }\n  ],\n  \"itinerary\": {\n      \"day1\": {\n          \"theme\": \"Exploring the Strip\",\n          \"bestTimeToVisit\": \"Late afternoon and evening\",\n          \"activities\": [\n             {\n                \"placeName\": \"The Bellagio Conservatory & Botanical Garden\",\n                \"placeDetails\": \"A free indoor garden with changing displays of flowers and plants. Stunning and a great photo opportunity.\",\n                \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/en/amenities/conservatory-botanical-garden/bellagio-conservatory-gallery-2126x1082.jpg\",\n                \"geoCoordinates\": {\n                    \"latitude\": 36.1127,\n                  \"longitude\": -115.1759\n                  },\n               \"ticketPricing\": \"Free\",\n                  \"rating\": 4.8,\n                \"travelTime\": \"Start of day\"\n              },\n              {\n                  \"placeName\": \"Bellagio Fountains\",\n                   \"placeDetails\": \"A free water show with music and light, running every 30 minutes in the afternoon and evening. A must-see.\",\n                  \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/en/amenities/fountains-of-bellagio/bellagio-fountains-gallery-2126x1082.jpg\",\n                   \"geoCoordinates\": {\n                    \"latitude\": 36.1125,\n                    \"longitude\": -115.1744\n                    },\n                \"ticketPricing\": \"Free\",\n                \"rating\": 4.9,\n                \"travelTime\": \"10 minutes walk from Bellagio Conservatory\"\n              },\n              {\n                \"placeName\": \"Walk the Las Vegas Strip\",\n                \"placeDetails\": \"Stroll along the famous Strip, taking in the sights, sounds, and atmosphere. Window shop and people-watch.\",\n                \"placeImageUrl\": \"https://a.cdn-hotels.com/gdcs/production46/d1870/722f322d-9d2d-4302-8200-11265a8c224e.jpg\",\n                  \"geoCoordinates\": {\n                   \"latitude\": 36.1174,\n                   \"longitude\": -115.1727\n                   },\n                \"ticketPricing\": \"Free\",\n                \"rating\": 4.7,\n                \"travelTime\": \"Continuing after the Bellagio Fountains\"\n              },\n             {\n                  \"placeName\": \"Fremont Street Experience\",\n                  \"placeDetails\": \"A pedestrian mall with a light and sound show on a massive LED canopy. Free entertainment and street performers.\",\n                \"placeImageUrl\": \"https://media.cntraveler.com/photos/5e392a50d57a870008722592/16:9/w_2560%2Cc_limit/Fremont-Street-Experience_GettyImages-992631492.jpg\",\n                \"geoCoordinates\": {\n                    \"latitude\": 36.1705,\n                    \"longitude\": -115.1416\n                    },\n                  \"ticketPricing\": \"Free\",\n                  \"rating\": 4.6,\n                  \"travelTime\": \"20 minutes drive from the strip\"\n              }\n          ]\n      },\n      \"day2\": {\n         \"theme\": \"Downtown & Natural Views\",\n         \"bestTimeToVisit\": \"Morning for outdoor activities, afternoon for downtown\",\n           \"activities\": [\n             {\n                 \"placeName\": \"Red Rock Canyon National Conservation Area\",\n                \"placeDetails\": \"Hike, bike, or scenic drive through stunning red rock formations. Great views and nature.\",\n                 \"placeImageUrl\": \"https://www.nps.gov/redr/planyourvisit/images/20201212_152512_red_rock_canyon_scenic_loop.jpg?maxwidth=1300&maxheight=1300&autorotate=false\",\n                  \"geoCoordinates\": {\n                      \"latitude\": 36.1372,\n                      \"longitude\": -115.4138\n                     },\n                 \"ticketPricing\": \"$15 per vehicle\",\n                 \"rating\": 4.8,\n                  \"travelTime\": \"30 minutes drive from the Strip\"\n              },\n              {\n                 \"placeName\": \"Downtown Las Vegas Murals\",\n                \"placeDetails\": \"Explore the vibrant street art scene in Downtown Las Vegas. Many colorful murals to discover.\",\n                \"placeImageUrl\": \"https://downtown.vegas/wp-content/uploads/2020/03/Downtown-Las-Vegas-Murals.jpg\",\n                 \"geoCoordinates\": {\n                     \"latitude\": 36.1710,\n                     \"longitude\": -115.1423\n                     },\n                 \"ticketPricing\": \"Free\",\n                \"rating\": 4.5,\n                 \"travelTime\": \"30 minutes drive from Red Rock Canyon\"\n\n               },\n               {\n                 \"placeName\": \"Container Park\",\n                   \"placeDetails\": \"An open-air shopping and entertainment district built from repurposed shipping containers. Unique and fun.\",\n                \"placeImageUrl\": \"https://downtowncontainerpark.com/wp-content/uploads/2023/08/Home-Carousel-1024x576-1.jpg\",\n                  \"geoCoordinates\": {\n                     \"latitude\": 36.1691,\n                      \"longitude\": -115.1393\n                     },\n                  \"ticketPricing\": \"Free to enter, individual costs for activities and shopping\",\n                \"rating\": 4.4,\n                  \"travelTime\": \"10 minutes walk from Downtown Murals\"\n                }\n           ]\n      },\n      \"day3\": {\n          \"theme\": \"Museums and Free Shows\",\n           \"bestTimeToVisit\": \"Mid-day for museums, evening for free shows\",\n           \"activities\": [\n                {\n                \"placeName\": \"The Neon Museum (Outdoor Boneyard)\",\n                 \"placeDetails\":\"A fascinating collection of retired Las Vegas signs, a glimpse into the city's past. Book tickets in advance.\",\n                  \"placeImageUrl\": \"https://neonmuseum.org/wp-content/uploads/2023/11/Boneyard-Exterior-Night.jpg\",\n                  \"geoCoordinates\": {\n                    \"latitude\": 36.1782,\n                      \"longitude\": -115.1400\n                    },\n                    \"ticketPricing\": \"$20 - $30 per person (book in advance)\",\n                    \"rating\": 4.7,\n                  \"travelTime\": \"20 minutes drive from Downtown or 10 minutes from container park \"\n                },\n              {\n                 \"placeName\": \"The Mirage Volcano\",\n                 \"placeDetails\": \"A free outdoor show on the Strip with erupting volcano and fire effects.  A classic Vegas attraction.\",\n                \"placeImageUrl\": \"https://media.cntraveler.com/photos/5a211a49f4d611248d90757a/master/w_1600%2Cc_limit/mirage-volcano-vegas-cr-getty.jpg\",\n                  \"geoCoordinates\": {\n                    \"latitude\": 36.1211,\n                     \"longitude\": -115.1728\n                    },\n                  \"ticketPricing\": \"Free\",\n                  \"rating\": 4.6,\n                 \"travelTime\": \"20 minutes drive from Neon Museum\"\n               },\n               {\n                    \"placeName\": \"Free Shows at Circus Circus\",\n                    \"placeDetails\": \"Catch a free circus act at Circus Circus's midway. A fun and budget-friendly way to see some entertainment.\",\n                  \"placeImageUrl\": \"https://www.reviewjournal.com/wp-content/uploads/2023/02/17271778_web1_Circus_Circus_Show_CSJ_104.jpg?w=1200\",\n                    \"geoCoordinates\": {\n                    \"latitude\": 36.1369,\n                    \"longitude\": -115.1632\n                   },\n                   \"ticketPricing\": \"Free\",\n                   \"rating\": 4.3,\n                    \"travelTime\": \"10 minutes drive from The Mirage Volcano\"\n              }\n          ]\n      }\n  }\n}\n```\n**Notes:**\n\n*   **Prices:** Hotel and activity prices are estimates and can vary based on season and booking time.\n*   **Transportation:** This itinerary assumes you will use a combination of walking, ridesharing, and possibly public transportation (buses). Consider renting a car if you prefer, but parking fees on the Strip can be expensive.\n*   **Food:**  To keep costs down, consider eating at casual dining places, fast food joints, and taking advantage of happy hour deals.\n*   **Flexibility:** This is just a suggested itinerary. Feel free to swap activities based on your interests.\n*   **Book in Advance:**  It's often a good idea to book hotels, and activities like the Neon Museum and Red Rock Canyon, ahead of time, especially during peak season.\n\nEnjoy your trip to Las Vegas on a budget! Let me know if you have any other questions.\n"},
          ],
        },
      ],
    });
  

  
  
  